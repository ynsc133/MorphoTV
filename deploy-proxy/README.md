# MorphoTV ä»£ç†æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆé›†åˆ

> ğŸ¬ ä¸º MorphoTV é¡¹ç›®æä¾›çš„å®Œæ•´ä»£ç†æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆï¼Œè§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜

## ğŸ“‹ æ–¹æ¡ˆæ¦‚è§ˆ

æœ¬æ–‡ä»¶å¤¹åŒ…å«äº† 5 ç§ä¸åŒçš„ä»£ç†æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆï¼Œæ¯ç§æ–¹æ¡ˆéƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ï¼š

| æ–¹æ¡ˆ | å¹³å° | éš¾åº¦ | æ€§èƒ½ | æˆæœ¬ | æ¨èæŒ‡æ•° |
|------|------|------|------|------|----------|
| [Express æœ¬åœ°æœåŠ¡å™¨](#1-express-æœ¬åœ°æœåŠ¡å™¨) | æœ¬åœ°/VPS | â­â­ | â­â­â­â­ | å…è´¹/ä½ | â­â­â­â­â­ |
| [Deno Deploy](#2-deno-deploy) | äº‘ç«¯ | â­â­ | â­â­â­â­â­ | å…è´¹ | â­â­â­â­â­ |
| [Cloudflare Workers](#3-cloudflare-workers) | äº‘ç«¯ | â­â­â­ | â­â­â­â­â­ | å…è´¹ | â­â­â­â­ |
| [Vercel Edge Functions](#4-vercel-edge-functions) | äº‘ç«¯ | â­â­â­ | â­â­â­â­ | å…è´¹ | â­â­â­â­ |
| [Deno æœ¬åœ°è¿è¡Œ](#5-deno-æœ¬åœ°è¿è¡Œ) | æœ¬åœ° | â­ | â­â­â­ | å…è´¹ | â­â­â­ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ¨èæ–¹æ¡ˆé€‰æ‹©

- **ğŸ  æœ¬åœ°å¼€å‘**: Express æœ¬åœ°æœåŠ¡å™¨
- **â˜ï¸ äº‘ç«¯éƒ¨ç½²**: Deno Deploy (æœ€ç®€å•)
- **ğŸŒ å…¨çƒåŠ é€Ÿ**: Cloudflare Workers
- **âš¡ é›¶é…ç½®**: Vercel Edge Functions

---

## 1. Express æœ¬åœ°æœåŠ¡å™¨

### ğŸ“ æ–‡ä»¶
- `express-proxy-server.ts` - ä¸»æœåŠ¡å™¨æ–‡ä»¶
- `package.json` - ä¾èµ–é…ç½®
- `Dockerfile` - Docker é…ç½®
- `docker-compose.yml` - Docker Compose é…ç½®

### âœ¨ ç‰¹ç‚¹
- âœ… åŠŸèƒ½å®Œæ•´ï¼Œç¨³å®šå¯é 
- âœ… æ”¯æŒæœ¬åœ°å¼€å‘å’Œç”Ÿäº§éƒ¨ç½²
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- âœ… æ”¯æŒ Docker å®¹å™¨åŒ–éƒ¨ç½²
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹

### ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

#### æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œ
```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¼€å‘æ¨¡å¼å¯åŠ¨
npm run dev

# 3. ç”Ÿäº§æ¨¡å¼å¯åŠ¨
npm run build && npm start
```

#### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²
```bash
# 1. æ„å»ºé•œåƒ
docker build -t morphotv-proxy .

# 2. è¿è¡Œå®¹å™¨
docker run -p 8080:8080 morphotv-proxy

# 3. æˆ–ä½¿ç”¨ docker-compose
docker-compose up -d
```

### ğŸ”§ é…ç½®
- **ä»£ç†åœ°å€**: `http://localhost:8080/proxy/`
- **å¥åº·æ£€æŸ¥**: `http://localhost:8080/health`
- **çŠ¶æ€é¡µé¢**: `http://localhost:8080/`

### ğŸ’¡ é€‚ç”¨åœºæ™¯
- æœ¬åœ°å¼€å‘æµ‹è¯•
- ç§æœ‰æœåŠ¡å™¨éƒ¨ç½²
- éœ€è¦å®Œå…¨æ§åˆ¶çš„ç¯å¢ƒ
- é«˜å¹¶å‘åœºæ™¯

---

## 2. Deno Deploy

### ğŸ“ æ–‡ä»¶
- `deno-deploy-proxy.ts` - Deno Deploy ä¼˜åŒ–ç‰ˆæœ¬

### âœ¨ ç‰¹ç‚¹
- âœ… é›¶é…ç½®éƒ¨ç½²
- âœ… å…¨çƒ CDN åŠ é€Ÿ
- âœ… TypeScript åŸç”Ÿæ”¯æŒ
- âœ… è‡ªåŠ¨æ‰©ç¼©å®¹
- âœ… å…è´¹é¢åº¦å……è¶³

### ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

1. **è®¿é—® Deno Deploy**
   ```
   https://dash.deno.com/
   ```

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from local file"

3. **ä¸Šä¼ æ–‡ä»¶**
   - ä¸Šä¼  `deno-deploy-proxy.ts` æ–‡ä»¶
   - ç‚¹å‡» "Deploy"

4. **è·å–åœ°å€**
   - å¤åˆ¶é¡¹ç›® URL: `https://your-project.deno.dev`
   - ä»£ç†åœ°å€: `https://your-project.deno.dev/proxy/`

### ğŸ”§ é…ç½®
```json
{
  "PROXY_BASE_URL": "https://your-project.deno.dev/proxy/"
}
```

### ğŸ’¡ é€‚ç”¨åœºæ™¯
- å¿«é€ŸåŸå‹å¼€å‘
- ä¸ªäººé¡¹ç›®
- ä¸æƒ³ç»´æŠ¤æœåŠ¡å™¨
- éœ€è¦å…¨çƒè®¿é—®

---

## 3. Cloudflare Workers

### ğŸ“ æ–‡ä»¶
- `cloudflare-worker.js` - Cloudflare Workers ä»£ç 

### âœ¨ ç‰¹ç‚¹
- âœ… å…¨çƒè¾¹ç¼˜è®¡ç®—
- âœ… æä½å»¶è¿Ÿ
- âœ… å¼ºå¤§çš„å…è´¹é¢åº¦
- âœ… è‡ªåŠ¨ DDoS é˜²æŠ¤
- âœ… é«˜å¯ç”¨æ€§

### ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

1. **è®¿é—® Cloudflare Dashboard**
   ```
   https://dash.cloudflare.com/
   ```

2. **è¿›å…¥ Workers & Pages**
   - ç‚¹å‡» "Workers & Pages"
   - ç‚¹å‡» "Create application"
   - é€‰æ‹© "Create Worker"

3. **éƒ¨ç½²ä»£ç **
   - å¤åˆ¶ `cloudflare-worker.js` çš„å†…å®¹
   - ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­
   - ç‚¹å‡» "Save and Deploy"

4. **è·å–åœ°å€**
   - ä»£ç†åœ°å€: `https://your-worker.your-subdomain.workers.dev/proxy/`

### ğŸ”§ é…ç½®
```json
{
  "PROXY_BASE_URL": "https://your-worker.your-subdomain.workers.dev/proxy/"
}
```

### ğŸ’¡ é€‚ç”¨åœºæ™¯
- é«˜æ€§èƒ½éœ€æ±‚
- å…¨çƒç”¨æˆ·è®¿é—®
- éœ€è¦ CDN åŠ é€Ÿ
- ä¼ä¸šçº§åº”ç”¨

---

## 4. Vercel Edge Functions

### ğŸ“ æ–‡ä»¶
- `vercel-edge-function.ts` - Vercel Edge Functions ä»£ç 

### âœ¨ ç‰¹ç‚¹
- âœ… é›¶å†·å¯åŠ¨
- âœ… å…¨çƒè¾¹ç¼˜ç½‘ç»œ
- âœ… ä¸ Next.js å®Œç¾é›†æˆ
- âœ… è‡ªåŠ¨ HTTPS
- âœ… ç®€å•éƒ¨ç½²

### ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

1. **åˆ›å»º Vercel é¡¹ç›®**
   ```bash
   # 1. åˆ›å»ºé¡¹ç›®ç›®å½•
   mkdir morphotv-proxy-vercel
   cd morphotv-proxy-vercel
   
   # 2. åˆå§‹åŒ–é¡¹ç›®
   npm init -y
   npm install next@latest react@latest react-dom@latest
   ```

2. **åˆ›å»º API è·¯ç”±**
   ```bash
   # åˆ›å»ºç›®å½•ç»“æ„
   mkdir -p pages/api/proxy
   
   # å¤åˆ¶ä»£ç æ–‡ä»¶
   cp vercel-edge-function.ts pages/api/proxy/[...slug].ts
   ```

3. **éƒ¨ç½²åˆ° Vercel**
   ```bash
   # å®‰è£… Vercel CLI
   npm i -g vercel
   
   # éƒ¨ç½²
   vercel --prod
   ```

### ğŸ”§ é…ç½®
```json
{
  "PROXY_BASE_URL": "https://your-app.vercel.app/api/proxy/"
}
```

### ğŸ’¡ é€‚ç”¨åœºæ™¯
- Next.js é¡¹ç›®
- éœ€è¦ä¸å‰ç«¯é›†æˆ
- å¿«é€Ÿéƒ¨ç½²éœ€æ±‚
- ç°ä»£åŒ–æŠ€æœ¯æ ˆ

---

## 5. Deno æœ¬åœ°è¿è¡Œ

### ğŸ“ æ–‡ä»¶
- `deno-proxy-original.ts` - æœ¬åœ° Deno è¿è¡Œç‰ˆæœ¬

### âœ¨ ç‰¹ç‚¹
- âœ… æ— éœ€ Node.js
- âœ… TypeScript åŸç”Ÿæ”¯æŒ
- âœ… å®‰å…¨çš„è¿è¡Œæ—¶
- âœ… ç°ä»£åŒ– API
- âœ… é›¶é…ç½®å¯åŠ¨

### ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

1. **å®‰è£… Deno**
   ```bash
   # Windows (PowerShell)
   irm https://deno.land/install.ps1 | iex
   
   # macOS/Linux
   curl -fsSL https://deno.land/install.sh | sh
   ```

2. **è¿è¡ŒæœåŠ¡å™¨**
   ```bash
   # å¯åŠ¨æœåŠ¡å™¨
   deno run --allow-net --allow-env deno-proxy-original.ts
   
   # æŒ‡å®šç«¯å£
   PORT=3000 deno run --allow-net --allow-env deno-proxy-original.ts
   ```

### ğŸ”§ é…ç½®
- **ä»£ç†åœ°å€**: `http://localhost:8080/proxy/`
- **çŠ¶æ€é¡µé¢**: `http://localhost:8080/`

### ğŸ’¡ é€‚ç”¨åœºæ™¯
- Deno å¼€å‘ç¯å¢ƒ
- å­¦ä¹ ç°ä»£ JavaScript
- å®‰å…¨æ€§è¦æ±‚é«˜
- ç®€å•å¿«é€Ÿå¯åŠ¨

---

## ğŸ”§ MorphoTV é…ç½®æ–¹æ³•

æ— è®ºé€‰æ‹©å“ªç§éƒ¨ç½²æ–¹æ¡ˆï¼Œåœ¨ MorphoTV åˆå§‹åŒ–ç•Œé¢ä¸­éƒ½éœ€è¦é…ç½®ä»£ç†åœ°å€ï¼š

### JSON é…ç½®æ ¼å¼
```json
{
  "PROXY_BASE_URL": "ä½ çš„ä»£ç†åœ°å€/proxy/"
}
```

### é…ç½®æ­¥éª¤
1. æ‰“å¼€ MorphoTV åº”ç”¨
2. åœ¨åˆå§‹åŒ–å¯¹è¯æ¡†ä¸­é€‰æ‹© "JSONæ•°æ®" æ ‡ç­¾é¡µ
3. è¾“å…¥ä¸Šè¿° JSON é…ç½®
4. ç‚¹å‡» "å¯¼å…¥JSONæ•°æ®"
5. ç³»ç»Ÿè‡ªåŠ¨é‡æ–°åŠ è½½

---

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ä»£ç†æœåŠ¡å™¨æ— æ³•è®¿é—®
- æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
- ç¡®è®¤ç«¯å£æ²¡æœ‰è¢«é˜²ç«å¢™é˜»æ­¢
- éªŒè¯ä»£ç†åœ°å€æ ¼å¼æ˜¯å¦æ­£ç¡®

#### 2. CORS é”™è¯¯
- ç¡®è®¤ä»£ç†æœåŠ¡å™¨å·²å¯ç”¨ CORS
- æ£€æŸ¥è¯·æ±‚å¤´æ˜¯å¦æ­£ç¡®è®¾ç½®
- éªŒè¯ç›®æ ‡ URL æ˜¯å¦å¯è®¿é—®

#### 3. è¯·æ±‚è¶…æ—¶
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å¢åŠ è¯·æ±‚è¶…æ—¶æ—¶é—´
- å°è¯•æ›´æ¢ä»£ç†æœåŠ¡å™¨

### æµ‹è¯•æ–¹æ³•

è®¿é—®ä»¥ä¸‹åœ°å€æµ‹è¯•ä»£ç†åŠŸèƒ½ï¼š
```
ä½ çš„ä»£ç†åœ°å€/proxy/https://httpbin.org/get
```

åº”è¯¥è¿”å› JSON æ ¼å¼çš„å“åº”æ•°æ®ã€‚

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | Express | Deno Deploy | Cloudflare | Vercel | Deno æœ¬åœ° |
|------|---------|-------------|------------|--------|-----------|
| å†·å¯åŠ¨æ—¶é—´ | 0ms | ~100ms | ~5ms | ~10ms | 0ms |
| å…¨çƒå»¶è¿Ÿ | å–å†³äºæœåŠ¡å™¨ | <50ms | <20ms | <30ms | æœ¬åœ° |
| å¹¶å‘å¤„ç† | é«˜ | å¾ˆé«˜ | æé«˜ | é«˜ | ä¸­ç­‰ |
| å…è´¹é¢åº¦ | æ— é™åˆ¶* | 100ä¸‡è¯·æ±‚/æœˆ | 10ä¸‡è¯·æ±‚/å¤© | 100GB/æœˆ | æ— é™åˆ¶ |
| è‡ªå®šä¹‰åŸŸå | âœ… | âœ… | âœ… | âœ… | âŒ |

*éœ€è¦è‡ªå·±çš„æœåŠ¡å™¨

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™äº›ä»£ç†æœåŠ¡å™¨æ–¹æ¡ˆï¼

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§å„æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š

---

**é€‰æ‹©å»ºè®®**: 
- ğŸš€ **å¿«é€Ÿå¼€å§‹**: Deno Deploy
- ğŸ  **æœ¬åœ°å¼€å‘**: Express æœ¬åœ°æœåŠ¡å™¨  
- âš¡ **æœ€ä½³æ€§èƒ½**: Cloudflare Workers
- ğŸ”§ **æ˜“äºé›†æˆ**: Vercel Edge Functions
